<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Uncensored AI</title>
    <link rel="stylesheet" href="src/styles/global.css">
    <link rel="stylesheet" href="src/styles/sidebar.css">
    <link rel="stylesheet" href="src/styles/chat.css">
    <link rel="stylesheet" href="src/styles/composer.css">
    <link rel="stylesheet" href="src/styles/notifications.css">
    <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.5/dist/purify.min.js"></script>
</head>

<body>

    <div class="app-container">
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <img src="sidebar.png" alt="Sidebar Logo" class="sidebar-logo">
                <button class="new-chat-btn" id="newChatBtn" aria-label="Start a new chat">
                    <span class="new-chat-icon">+</span>
                    <span class="new-chat-text">New Chat</span>
                </button>
            </div>
            
            <div class="sidebar-content">
                <div class="chat-history">
                    <h3 class="chat-history-title">Previous Chats</h3>
                    <div class="chat-list" id="chatList">
                        <div class="no-chats-message">
                            <em>No previous chats yet</em>
                        </div>
                    </div>
                </div>
            </div>
        </aside>

        <main class="chat-interface">
            <header class="chat-header">
                <div class="header-left">
                    <button class="sidebar-toggle" id="sidebarToggle" title="Toggle sidebar" aria-label="Toggle sidebar">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M15 18l-6-6 6-6"/>
                        </svg>
                    </button>
                    <button class="icon-btn" id="refreshChatBtn" aria-label="Refresh chat" title="Refresh chat">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="23 4 23 10 17 10"/>
                            <polyline points="1 20 1 14 7 14"/>
                            <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"/>
                        </svg>
                    </button>
                </div>
                <div class="header-center">
                    <img src="photo.png" alt="Logo" class="header-logo">
                </div>
                <div class="header-right">
                    <button class="icon-btn" id="printChatBtn" title="Export chat as PDF" aria-label="Export chat as PDF">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="6,9 6,2 18,2 18,9"/>
                            <path d="M6,18H4a2,2,0,0,1-2-2V11a2,2,0,0,1,2-2H20a2,2,0,0,1,2,2v5a2,2,0,0,1-2,2H18"/>
                            <rect x="6" y="14" width="12" height="8"/>
                        </svg>
                    </button>
                    <button class="dark-mode-toggle" id="darkModeToggle" title="Toggle dark mode" aria-label="Toggle dark mode">
                        <svg class="dark-mode-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="5"/>
                            <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
                        </svg>
                    </button>
                    <a href="profile.html" class="profile-link" title="Profile">
                        <svg class="profile-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/>
                            <circle cx="12" cy="7" r="4"/>
                        </svg>
                    </a>
                    <span class="user-icon-header"></span>
                </div>
            </header>

            <div class="chat-content-wrapper">
                <section class="chat-area" id="chatArea">
                    <!-- Messages will be dynamically generated here -->
                </section>

                <footer class="chat-footer">
                <form class="input-form" id="chatForm">
                    <div class="composer">
                        <textarea id="userInput" placeholder="Ask me anything..." rows="1"></textarea>

                        <div class="composer-bottom">
                            <button type="button" class="brand" id="brandBtn">
                                UNCENSORED AI <span class="caret">â–¾</span>
                            </button>

                            <div class="actions">
                                <button type="button" id="attachBtn" class="icon-btn attach" title="Attach file" aria-label="Attach">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6B7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21.44 11.05l-8.49 8.49a6 6 0 01-8.49-8.49l9.19-9.19a4 4 0 115.66 5.66l-9.19 9.19a2 2 0 11-2.83-2.83l8.49-8.49"/></svg>
                                </button>
                                <button type="button" id="generateImageBtn" class="icon-btn image-gen" title="Generate image from prompt" aria-label="Generate Image">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6B7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><path d="M21 15l-5-5L5 21"></path></svg>
                                </button>
                                <button type="submit" class="send-fab" id="sendBtn" title="Send" aria-label="Send">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M5 12h14M13 5l7 7-7 7" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </form>
                </footer>
            </div>
        </main>
    </div>

    <script type="module" src="src/main.js"></script>

</body>

</html>
